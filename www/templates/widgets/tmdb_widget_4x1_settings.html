<!-- TMDB Widget Settings -->
<!-- Dynamisch geladen via tmdb_widget_settings.js -->
<div class="form-section" id="tmdb-widget-settings">
    <h2>
        <img src="{{ url_for('static', filename='img/control.svg') }}" alt="" style="width:24px;height:24px;vertical-align:middle;margin-right:8px;">
        TMDB Provider
    </h2>
    
    <div class="form-group">
        <label>
            <input type="checkbox" id="tmdb_active" name="tmdb_active" {{ 'checked' if settings.active else '' }}>
            TMDB Provider aktivieren
        </label>
        <div class="help-text">
            Aktiviert die automatische Metadaten-Abfrage für DVD/Blu-ray von themoviedb.org.
            {% if not config.enabled %}
            <br><strong style="color: #f56565;">⚠ Modul nicht vollständig konfiguriert (enabled=false)</strong>
            {% endif %}
        </div>
    </div>
    
    <div id="tmdb-settings" style="{{ 'display: block;' if settings.active else 'display: none;' }}">
        <div class="form-group">
            <label for="tmdb_api_key">TMDB API-Key</label>
            <input type="text" id="tmdb_api_key" name="tmdb_api_key" value="{{ settings.api_key }}" placeholder="1234567890abcdef1234567890abcdef" maxlength="64">
            <div class="help-text">
                API-Key von themoviedb.org für automatische Film-Metadaten und Cover. 
                <a href="https://www.themoviedb.org/settings/api" target="_blank" style="color: #667eea;">Anleitung zur Beschaffung →</a>
            </div>
        </div>
        
        <div class="form-group">
            <label>
                <input type="checkbox" id="tmdb_cache_enabled" name="tmdb_cache_enabled" {{ 'checked' if settings.cache_enabled else '' }}>
                Cache aktivieren
            </label>
            <div class="help-text">Zwischenspeicherung von API-Abfragen (empfohlen)</div>
        </div>
        
        <div id="tmdb-cache-settings" style="{{ 'display: block;' if settings.cache_enabled else 'display: none;' }}">
            <div class="form-group">
                <label for="tmdb_cache_duration">Cache-Dauer (Tage)</label>
                <input type="number" id="tmdb_cache_duration" name="tmdb_cache_duration" value="{{ settings.cache_duration_days }}" min="1" max="365" step="1">
                <div class="help-text">Wie lange sollen Metadaten im Cache gespeichert werden (default: 30 Tage)</div>
            </div>
        </div>
    </div>
</div>

